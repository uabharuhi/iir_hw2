{% extends "bootstrap/base.html" %}
{% from "_macros.html" import render_field %}
{% block navbar %}
<nav class="navbar navbar-inverse">
  <div class="container" style="">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand" href="#" style="padding:13px 10px 0px 10px;margin-right:20px;">
			E17N2's &nbsp BLOG </span>
    </div>

   
    <div class="collapse navbar-collapse navbar-right">
      <ul class="nav navbar-nav" id="nav-bar-ul">
				<li><a><span class="glyphicon glyphicon-envelope" style="color:white;margin-right:5px;"></span>{{0}}</a></li>
        <li><a href="{{url_for('post.list_post')}}">首頁<span class="sr-only">(current)</span></a></li>
        {%if current_user.is_authenticated %}<li><a href="#">使用者</a></li>{%endif%}
        <li class="">
				  {%if not current_user.is_authenticated %}
          <a href="{{url_for('auth.login')}}" class=""><!--data-toggle="modal" data-target="#login_form"-->
					登入 <!--span class="caret"></span-->
					</a>
					{%else%}
					<a href="{{url_for('auth.logout')}}" class="">登出</a>
					{%endif%}
          <!--ul class="dropdown-menu">
            <li><a href="#">Action</a></li>
            <li><a href="#">Another action</a></li>
            <li><a href="#">Something else here</a></li>
            <li role="separator" class="divider"></li>
            <li><a href="#">Separated link</a></li>
            <li role="separator" class="divider"></li>
            <li><a href="#">One more separated link</a></li>
          </ul-->
        </li>
      </ul>
      <!--form class="navbar-form navbar-left">
        <div class="form-group">
          <input type="text" class="form-control" placeholder="Search">
        </div>
        <button type="submit" class="btn btn-default">Submit</button>
      </form>
      <ul class="nav navbar-nav navbar-right">
        <li><a href="#">Link</a></li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Dropdown <span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="#">Action</a></li>
            <li><a href="#">Another action</a></li>
            <li><a href="#">Something else here</a></li>
            <li role="separator" class="divider"></li>
            <li><a href="#">Separated link</a></li>
          </ul>
        </li>
      </ul-->
    </div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
</nav>

{% endblock %}
{% block styles %}
{{super()}}
<style>
html, body {
    /* 設定body高度為100% 拉到視窗可視的大小 */
    height: 100%;
}
#login_form{
	z-index:2000;
}
#login_content{
	padding-top:30px;
	padding-bottom:30px;
}
#login_content .form-group{
	margin-bottom:30px;
}
#nav-bar-ul>li>a{
	color:white;
}
#nav-bar-ul>.active>a{
	color:white;
}
#nav-bar-ul>li>a:hover{
	color:white;
}
.footer{
	background-color:black;
	color:white;
}
.my-container{
	min-height:90%;
}
a:hover{
	cursor:pointer;
}

</style>
<link rel="stylesheet" href="{{url_for('static',filename='css/bootstrap.min.css')}}"/>
<link rel="stylesheet" href="{{url_for('static',filename='css/font-awesome.min.css')}}"/>
<link rel="stylesheet" href="{{url_for('static',filename='css/highlight.dark.css')}}"/>
<link rel="stylesheet" href="{{url_for('static',filename='css/main.css')}}"/>
{%endblock%}
{%block scripts%}
{{super()}}
<script src="{{url_for('static',filename='js/jquery.confirm.min.js')}}"></script>
<script>
	$(function(){
		$(".confirm").confirm();
		$(".confirm").bind( "click", function(event){
			event.stopPropagation();
		}
		);
		$('.close-warning').on('click',function(){
			 $(this).closest('.alert').remove();
			 console.log('remove');
		});
		console.log('base load');
		console.log(Math.random());
	});
</script>
<!--login script-->
<!--script>
$(
	function(){
		$('#login_submit').on('click',function(){
		  var form=$('#login_form form');
				form.submit(
					function(ev){
						 ev.preventDefault();
						 $.ajax({
							type: 'POST',
							url: form.attr('action'),
							data: form.serialize(),
							success: function (data) {
									console.log(data);
									if(data.success){
									
									}else{
										console.log('abcd');
										$('#login_wrapper').html(data.template);
										$('a[data-target="#login_form"]').click()
									}
							}
						});
					}
				);
		 console.log('login form submit');		
		});
	}
	
);
</script-->
{%endblock%}
{%block content%}
<div class="container my-container">
	{% with messages = get_flashed_messages() %}
	 {% if messages %}
			{% for message in messages %}
				<div class="alert alert-warning alert-dismissible show" role="alert">
					<button type="button" class="close close-warning" data-dismiss="alert" aria-label="Close">
						<span aria-hidden="true">&times;</span></button>{{message |safe}}
				</div>
			{% endfor %}
		{% endif %}
	{% endwith %}
{%block page_content%}
{%endblock%}
</div>
<!--div id="login_wrapper">
%include "auth/_login.html"%
</div-->
<div class="container">
{%block pager%}

{%endblock%}
</div>
<footer class="footer">
      <div class="container">
				<p class="text-center">測試中版本... Copyright © 2017 ~</p>
        <!--p class="text-center">Copyright © 2017 ~</p-->
      </div>
 </footer>
{%endblock%}
